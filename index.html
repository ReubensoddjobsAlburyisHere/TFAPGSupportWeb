<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TFAPG Support Form</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Apply Inter font family globally */
        body {
            font-family: 'Inter', sans-serif;
            /* New background image */
            background-image: url('https://i.imgur.com/oPyfp2H.png');
            background-size: cover; /* Ensures the image covers the entire background */
            background-position: center; /* Centers the background image */
            background-repeat: no-repeat; /* Prevents the image from repeating */
            background-attachment: fixed; /* Fixes the background image during scroll */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <!-- Form container with transparent black background and light text -->
    <div class="bg-black/70 p-8 rounded-lg shadow-xl w-full max-w-2xl border border-gray-700">
        <!-- Removed Image at the top of the form -->

        <!-- Form Title -->
        <h1 class="text-3xl font-bold text-center text-white mb-6">TFAPG Support Request</h1>
        <p class="text-center text-gray-200 mb-8">
            Please fill out the form below. When you submit, it will open your default email client with your request pre-filled.
        </p>

        <!-- The actual form -->
        <!-- The form uses mailto: to send the data via email.
             Note: mailto forms have limitations and may not send large amounts of data
             or work consistently across all user email clients.
             For a robust solution, server-side processing is typically required. -->
        <form action="mailto:tfapghelp@gmail.com" method="post" enctype="text/plain" id="supportForm">
            <!-- Your Contact Information Section -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-gray-200 mb-4 pb-2 border-b border-gray-500">Your Contact Information</h2>
                <!-- Name Input Field -->
                <div class="mb-4">
                    <label for="name" class="block text-gray-200 text-sm font-medium mb-2">Your Name:</label>
                    <input type="text" id="name" name="Name" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="John Doe" required>
                </div>
                <!-- Email Input Field -->
                <div class="mb-4">
                    <label for="email" class="block text-gray-200 text-sm font-medium mb-2">Your Email Address:</label>
                    <input type="email" id="email" name="Email" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="john.doe@example.com" required>
                </div>
            </div>

            <!-- Your Inquiry Details Section -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-gray-200 mb-4 pb-2 border-b border-gray-500">Your Inquiry Details</h2>
                <!-- Category Dropdown -->
                <div class="mb-4">
                    <label for="category" class="block text-gray-200 text-sm font-medium mb-2">Category:</label>
                    <select id="category" name="Category" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" required>
                        <option value="" disabled selected>Please select a category</option>
                        <option value="Technical Issues">Technical Issues (Website/Playback) 📺</option>
                        <option value="App Support (Mobile/Desktop) - Under Review">App Support (Mobile/Desktop) 📱 - Under Review</option>
                        <option value="Billing & Payments - Coming Soon">Billing & Payments 💸 - Coming Soon</option>
                        <option value="Content Feedback">Content Feedback (Show-Related) ✍️</option>
                        <option value="Merchandise & Store - Coming Soon">Merchandise & Store 🛍️ - Coming Soon</option>
                        <option value="Episode Player Issues - Coming Soon">Episode Player Issues 🎬 - Coming Soon</option>
                        <option value="Account Information - Under Maintenance">Account Information ℹ️ - Under Maintenance</option>
                        <option value="Security & Privacy">Security & Privacy 🔒</option>
                        <option value="Privacy Policy Questions">Privacy Policy Questions 📜</option>
                        <option value="Copyright & Licensing">Copyright & Licensing ⚖️</option>
                        <option value="Casting & Talent Submissions">Casting & Talent Submissions 🌟</option>
                        <option value="Script & Story Ideas">Script & Story Ideas 💡</option>
                        <option value="Locations & Set Suggestions">Locations & Set Suggestions 🗺️</option>
                        <option value="Press Kit Request">Press Kit Request 📄</option>
                        <option value="Press/Media Relations">Press/Media Relations 🎤</option>
                        <option value="Sponsorship & Advertising">Sponsorship & Advertising 📈</option>
                        <option value="Partnership Inquiries">Partnership Inquiries 🤝</option>
                        <option value="Fan Events & Meetups">Fan Events & Meetups 🎉</option>
                        <option value="Event Suggestions/Requests">Event Suggestions/Requests 🗓️</option>
                        <option value="General Inquiry">General Inquiry ❓</option>
                        <option value="General Feedback">General Feedback 💬</option>
                        <option value="Fan & Community">Fan & Community 🤝</option>
                        <option value="Media & Press Inquiries">Media & Press Inquiries 📰</option>
                        <option value="Accessibility & Inclusivity">Accessibility & Inclusivity 🧑‍🦽</option>
                        <option value="Job Opportunities">Job Opportunities 💼</option>
                        <option value="Volunteer Opportunities">Volunteer Opportunities 🙌</option>
                        <option value="Donation & Philanthropy">Donation & Philanthropy 💖</option>
                        <option value="Report a Website Bug">Report a Website Bug 🐞</option>
                        <option value="Product/Feature Request">Product/Feature Request ✨</option>
                        <option value="Data Request/Deletion - Coming Soon">Data Request/Deletion 📊 - Coming Soon</option>
                        <option value="Partnership & Sponsorship">Partnership & Sponsorship</option>
                    </select>
                    <!-- Status message for 'Coming Soon', 'Under Maintenance', or 'Under Review' categories -->
                    <div id="statusMessage" class="hidden text-center text-orange-400 font-medium mt-2"></div>
                </div>
                <!-- Subcategory Dropdown - now wrapped in a div to control its visibility -->
                <div id="subcategoryField" class="mb-4 hidden"> <!-- Added 'hidden' class here -->
                    <label for="subcategory" class="block text-gray-200 text-sm font-medium mb-2">Subcategory (if applicable):</label>
                    <select id="subcategory" name="Subcategory" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out">
                        <option value="" disabled selected>Please select a subcategory (optional)</option>
                        <!-- Options will be dynamically populated by JavaScript based on Category selection -->
                    </select>
                </div>
                <!-- Your Message Textarea -->
                <div class="mb-6">
                    <label for="message" class="block text-gray-200 text-sm font-medium mb-2">Your Message:</label>
                    <textarea id="message" name="Message" rows="6" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out resize-y" placeholder="Please describe your issue or question in detail. Include any relevant information like dates, times, or specific error messages." required></textarea>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex items-center justify-center">
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300 ease-in-out transform hover:scale-105">
                    Send Support Request
                </button>
            </div>
        </form>
    </div>

    <script>
        // Define subcategories for each main category with emojis
        const subcategories = {
            "Technical Issues": ["Website Glitch 🕸️", "Playback Error ⏯️", "Login Issue 🔑", "Loading Problems ⏳", "Feature Not Working 🚫", "Other Technical Issue ⚙️"],
            // Note: App Support, Billing & Payments, Merchandise, Episode Player, Account Info, and Data Request/Deletion
            // do not have subcategories listed here as their subcategory dropdown will be hidden/disabled.
            "Content Feedback": ["Episode Suggestion 📝", "Show Feedback 👍", "Content Error 🐛", "Request New Content ✨", "Guest Suggestion 🎤", "Other Content Feedback 💬"],
            "Security & Privacy": ["Data Breach Concern 🚨", "Privacy Policy Question 📜", "Report Suspicious Activity 🕵️", "Data Request 📊", "Account Security ✅", "Other Security/Privacy 🔐"],
            "Privacy Policy Questions": ["Data Usage Inquiry 📊", "Consent Questions ✅", "Policy Clarification 📄", "GDPR/CCPA Rights ⚖️", "Other Privacy Concern 🔒"],
            "Copyright & Licensing": ["Content Usage ©", "Licensing Inquiry ™️", "Copyright Infringement ⚖️", "Permission Request 🙏", "Other Legal 🧑‍⚖️"],
            "Casting & Talent Submissions": ["Acting Submission 🎭", "Voice Acting 🗣️", "Extra/Background 👥", "Talent Inquiry ⭐", "Other Submission 📧"],
            "Script & Story Ideas": ["Series Idea ✍️", "Episode Concept 💡", "Character Idea 🦸", "Plot Suggestion 📖", "Other Creative Idea 🧠"],
            "Locations & Set Suggestions": ["Filming Location 📍", "Set Design Idea 🏗️", "Prop Suggestion 🛋️", "Other Production Suggestion 🎬"],
            "Press Kit Request": ["Media Kit Request 📰", "Brand Guidelines 📏", "Logos/Assets 🖼️", "Press Inquiry 🎤"],
            "Press/Media Relations": ["Interview Request 🎙️", "News Release 🗞️", "Media Partnership 🤝", "Background Information 🧠", "Other Media Inquiry 🎤"],
            "Sponsorship & Advertising": ["Sponsorship Opportunity 🤝", "Advertising Inquiry 📈", "Partnership Proposal 📝", "Brand Collaboration ✨"],
            "Partnership Inquiries": ["Collaboration Idea 🤝", "Joint Venture 🔗", "Affiliate Program 🏷️", "Marketing Partnership 📈", "Other Partnership 💡"],
            "Fan Events & Meetups": ["Event Suggestion 🎉", "Meetup Inquiry 👋", "Appearance Request 🌟", "Fan Convention 🥳"],
            "Event Suggestions/Requests": ["Online Event Idea 💻", "In-person Event Request 🏟️", "Guest Speaker Suggestion 🎤", "Event Feedback 👍", "Other Event Query 🗓️"],
            "General Inquiry": ["General Question ❓", "Feedback ✅", "Suggestion 👍", "Website Information 🌐", "Other Inquiry 💡"],
            "General Feedback": ["Website Experience 👍", "Content Quality ✨", "Overall Satisfaction 😊", "Suggestions for Improvement 💡", "Other Feedback 💬"],
            "Fan & Community": ["Community Guidelines 📄", "Fan Art Submission 🎨", "Fan Club Info 💖", "Forum Issue 💬", "Social Media Question 📱"],
            "Media & Press Inquiries": ["Interview Request 🎙️", "Press Release Info 🗞️", "Media Partnership 🤝", "Review Copy Request ✍️"],
            "Accessibility & Inclusivity": ["Accessibility Feature 🧑‍🦽", "Inclusivity Feedback 🌈", "Language Options 🌐", "Disability Support ❤️"],
            "Job Opportunities": ["Application Status 📄", "Internship Inquiry 🧑‍🎓", "Career Information 📈", "Specific Job Role Question ❓"],
            "Volunteer Opportunities": ["Become a Volunteer 🙌", "Volunteer Roles 📋", "Volunteer Event Info 🗓️", "Application Status 📄", "Other Volunteer Query 💬"],
            "Donation & Philanthropy": ["Donation Inquiry 💖", "Charity Partnership 🤝", "Receipt Request 🧾", "Impact Information 🌟", "Other Donation Query 💰"],
            "Report a Website Bug": ["Broken Link 🔗", "Display Error 🖥️", "Form Not Working 🚫", "Performance Issue 🐌", "Security Vulnerability 🚨", "Other Bug 🐞"],
            "Product/Feature Request": ["New Feature Idea ✨", "Improvement Suggestion 💡", "Platform Functionality ⚙️", "Tool Request 🛠️", "Other Product Idea 🚀"],
            "Partnership & Sponsorship": ["Collaboration Inquiry 🤝", "Event Sponsorship 🎉", "Content Partnership ✍️", "Brand Ambassador ⭐"]
        };

        const categorySelect = document.getElementById('category');
        const subcategorySelect = document.getElementById('subcategory');
        const subcategoryFieldDiv = document.getElementById('subcategoryField');
        const statusMessageDiv = document.getElementById('statusMessage');
        const supportForm = document.getElementById('supportForm');

        /**
         * Populates the subcategory dropdown based on the selected main category,
         * or displays a status message and hides/shows the subcategory dropdown.
         */
        function populateSubcategories() {
            const selectedCategory = categorySelect.value;
            // Clear any previous status message and hide it
            statusMessageDiv.textContent = '';
            statusMessageDiv.classList.add('hidden');

            // Clear existing options in subcategory dropdown and reset to default
            subcategorySelect.innerHTML = '<option value="" disabled selected>Please select a subcategory (optional)</option>';

            const isComingSoon = selectedCategory.includes("Coming Soon");
            const isUnderMaintenance = selectedCategory.includes("Under Maintenance");
            const isUnderReview = selectedCategory.includes("Under Review"); // New status check
            const isSpecialCategory = isComingSoon || isUnderMaintenance || isUnderReview;

            if (selectedCategory === "") {
                // If no category is selected, hide the subcategory field
                subcategoryFieldDiv.classList.add('hidden');
            } else if (isSpecialCategory) {
                // Hide subcategory dropdown for special categories
                subcategoryFieldDiv.classList.add('hidden');
                // Display specific status message based on the type
                if (isComingSoon) {
                    statusMessageDiv.textContent = "This feature is coming soon! We appreciate your patience.";
                } else if (isUnderMaintenance) {
                    statusMessageDiv.textContent = "This section is currently under maintenance. We apologize for the inconvenience.";
                } else if (isUnderReview) { // New message for "Under Review"
                    statusMessageDiv.textContent = "This section is currently under review. We appreciate your patience.";
                }
                statusMessageDiv.classList.remove('hidden');
            } else if (subcategories[selectedCategory]) {
                // Show the subcategory field for regular categories
                subcategoryFieldDiv.classList.remove('hidden');
                // Populate subcategories for regular categories
                subcategories[selectedCategory].forEach(sub => {
                    const option = document.createElement('option');
                    option.value = sub;
                    option.textContent = sub;
                    subcategorySelect.appendChild(option);
                });
            } else {
                // For categories without defined subcategories, show the field but keep default option
                // This means if a new category is added but not in `subcategories` object, the dropdown will appear empty.
                subcategoryFieldDiv.classList.remove('hidden');
            }
        }

        // Add event listener to the category dropdown to populate subcategories on change
        categorySelect.addEventListener('change', populateSubcategories);

        /**
         * Handles form submission, constructs the email subject and body, and opens mailto link.
         * @param {Event} event - The form submission event.
         */
        supportForm.addEventListener('submit', function(event) {
            // Prevent default form submission to manually construct mailto link
            event.preventDefault();

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const category = document.getElementById('category').value;
            const message = document.getElementById('message').value;

            // Get subcategory value only if the field is visible (not hidden)
            let subcategory = '';
            if (!subcategoryFieldDiv.classList.contains('hidden')) {
                subcategory = subcategorySelect.value;
            }

            // Construct the email subject
            let subject = `Support Request - ${category}`;
            // Only add subcategory to subject if it's not a special category and a subcategory is selected
            const isComingSoon = category.includes("Coming Soon");
            const isUnderMaintenance = category.includes("Under Maintenance");
            const isUnderReview = category.includes("Under Review");
            const isSpecialCategory = isComingSoon || isUnderMaintenance || isUnderReview;

            if (!isSpecialCategory && subcategory && subcategory !== 'Please select a subcategory (optional)') {
                subject += ` - ${subcategory}`;
            }
            subject = encodeURIComponent(subject);

            // Construct the email body
            let bodyContent = `Hello TFAPG Team,

I am writing to submit a support request. Here are my details and inquiry:

Your Name: ${name}
Your Email Address: ${email}

Category: ${category}
`;

            // Include status message if present, otherwise subcategory
            if (statusMessageDiv.textContent && !statusMessageDiv.classList.contains('hidden')) {
                bodyContent += `Status: ${statusMessageDiv.textContent}
`;
            } else if (!isSpecialCategory && subcategory && subcategory !== 'Please select a subcategory (optional)') {
                 bodyContent += `Subcategory: ${subcategory}
`;
            } else {
                 bodyContent += `Subcategory: N/A (No subcategory selected or applicable)
`;
            }

            bodyContent += `
---

My Message:
${message}

---

Thank immense you for your time and assistance.

Sincerely,
${name}`;

            const body = encodeURIComponent(bodyContent);

            // Create the mailto link
            const mailtoLink = `mailto:tfapghelp@gmail.com?subject=${subject}&body=${body}`;

            // Open the mailto link
            window.location.href = mailtoLink;
        });

        // Initialize on page load to set initial state correctly
        populateSubcategories();
    </script>
</body>
</html>
