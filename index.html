<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TFAPG Support Form</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Apply Inter font family globally */
        body {
            font-family: 'Inter', sans-serif;
            /* New background image */
            background-image: url('https://i.imgur.com/oPyfp2H.png');
            background-size: cover; /* Ensures the image covers the entire background */
            background-position: center; /* Centers the background image */
            background-repeat: no-repeat; /* Prevents the image from repeating */
            background-attachment: fixed; /* Fixes the background image during scroll */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <!-- Form container with transparent black background and light text -->
    <div class="bg-black/70 p-8 rounded-lg shadow-xl w-full max-w-2xl border border-gray-700">
        <!-- Removed Image at the top of the form -->

        <!-- Form Title -->
        <h1 class="text-3xl font-bold text-center text-white mb-6">TFAPG Support Request</h1>
        <p class="text-center text-gray-200 mb-8">
            Please fill out the form below. When you submit, it will open your default email client with your request pre-filled.
        </p>

        <!-- The actual form -->
        <!-- The form uses mailto: to send the data via email.
             Note: mailto forms have limitations and may not send large amounts of data
             or work consistently across all user email clients.
             For a robust solution, server-side processing is typically required. -->
        <form action="mailto:tfapghelp@gmail.com" method="post" enctype="text/plain" id="supportForm">
            <!-- Your Contact Information Section -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-gray-200 mb-4 pb-2 border-b border-gray-500">Your Contact Information</h2>
                <!-- Name Input Field -->
                <div class="mb-4">
                    <label for="name" class="block text-gray-200 text-sm font-medium mb-2">Your Name:</label>
                    <input type="text" id="name" name="Name" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="John Doe" required>
                </div>
                <!-- Email Input Field -->
                <div class="mb-4">
                    <label for="email" class="block text-gray-200 text-sm font-medium mb-2">Your Email Address:</label>
                    <input type="email" id="email" name="Email" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="john.doe@example.com" required>
                </div>
            </div>

            <!-- Your Inquiry Details Section -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-gray-200 mb-4 pb-2 border-b border-gray-500">Your Inquiry Details</h2>
                <!-- Category Dropdown -->
                <div class="mb-4">
                    <label for="category" class="block text-gray-200 text-sm font-medium mb-2">Category:</label>
                    <select id="category" name="Category" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" required>
                        <option value="" disabled selected>Please select a category</option>
                        <option value="Technical Issues">Technical Issues (Website/Playback) ğŸ“º</option>
                        <option value="App Support (Mobile/Desktop) - Under Review">App Support (Mobile/Desktop) ğŸ“± - Under Review</option>
                        <option value="Billing & Payments - Coming Soon">Billing & Payments ğŸ’¸ - Coming Soon</option>
                        <option value="Content Feedback">Content Feedback (Show-Related) âœï¸</option>
                        <option value="Merchandise & Store - Coming Soon">Merchandise & Store ğŸ›ï¸ - Coming Soon</option>
                        <option value="Episode Player Issues - Coming Soon">Episode Player Issues ğŸ¬ - Coming Soon</option>
                        <option value="Account Information - Under Maintenance">Account Information â„¹ï¸ - Under Maintenance</option>
                        <option value="Security & Privacy">Security & Privacy ğŸ”’</option>
                        <option value="Privacy Policy Questions">Privacy Policy Questions ğŸ“œ</option>
                        <option value="Copyright & Licensing">Copyright & Licensing âš–ï¸</option>
                        <option value="Casting & Talent Submissions">Casting & Talent Submissions ğŸŒŸ</option>
                        <option value="Script & Story Ideas">Script & Story Ideas ğŸ’¡</option>
                        <option value="Locations & Set Suggestions">Locations & Set Suggestions ğŸ—ºï¸</option>
                        <option value="Press Kit Request">Press Kit Request ğŸ“„</option>
                        <option value="Press/Media Relations">Press/Media Relations ğŸ¤</option>
                        <option value="Sponsorship & Advertising">Sponsorship & Advertising ğŸ“ˆ</option>
                        <option value="Partnership Inquiries">Partnership Inquiries ğŸ¤</option>
                        <option value="Fan Events & Meetups">Fan Events & Meetups ğŸ‰</option>
                        <option value="Event Suggestions/Requests">Event Suggestions/Requests ğŸ—“ï¸</option>
                        <option value="General Inquiry">General Inquiry â“</option>
                        <option value="General Feedback">General Feedback ğŸ’¬</option>
                        <option value="Fan & Community">Fan & Community ğŸ¤</option>
                        <option value="Media & Press Inquiries">Media & Press Inquiries ğŸ“°</option>
                        <option value="Accessibility & Inclusivity">Accessibility & Inclusivity ğŸ§‘â€ğŸ¦½</option>
                        <option value="Job Opportunities">Job Opportunities ğŸ’¼</option>
                        <option value="Volunteer Opportunities">Volunteer Opportunities ğŸ™Œ</option>
                        <option value="Donation & Philanthropy">Donation & Philanthropy ğŸ’–</option>
                        <option value="Report a Website Bug">Report a Website Bug ğŸ</option>
                        <option value="Product/Feature Request">Product/Feature Request âœ¨</option>
                        <option value="Data Request/Deletion - Coming Soon">Data Request/Deletion ğŸ“Š - Coming Soon</option>
                        <option value="Partnership & Sponsorship">Partnership & Sponsorship</option>
                    </select>
                    <!-- Status message for 'Coming Soon', 'Under Maintenance', or 'Under Review' categories -->
                    <div id="statusMessage" class="hidden text-center text-orange-400 font-medium mt-2"></div>
                </div>
                <!-- Subcategory Dropdown - now wrapped in a div to control its visibility -->
                <div id="subcategoryField" class="mb-4 hidden"> <!-- Added 'hidden' class here -->
                    <label for="subcategory" class="block text-gray-200 text-sm font-medium mb-2">Subcategory (if applicable):</label>
                    <select id="subcategory" name="Subcategory" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out">
                        <option value="" disabled selected>Please select a subcategory (optional)</option>
                        <!-- Options will be dynamically populated by JavaScript based on Category selection -->
                    </select>
                </div>
                <!-- Your Message Textarea -->
                <div class="mb-6">
                    <label for="message" class="block text-gray-200 text-sm font-medium mb-2">Your Message:</label>
                    <textarea id="message" name="Message" rows="6" class="shadow-sm appearance-none border border-gray-600 rounded-md w-full py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out resize-y" placeholder="Please describe your issue or question in detail. Include any relevant information like dates, times, or specific error messages." required></textarea>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex items-center justify-center">
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300 ease-in-out transform hover:scale-105">
                    Send Support Request
                </button>
            </div>
        </form>
    </div>

    <script>
        // Define subcategories for each main category with emojis
        const subcategories = {
            "Technical Issues": ["Website Glitch ğŸ•¸ï¸", "Playback Error â¯ï¸", "Login Issue ğŸ”‘", "Loading Problems â³", "Feature Not Working ğŸš«", "Other Technical Issue âš™ï¸"],
            // Note: App Support, Billing & Payments, Merchandise, Episode Player, Account Info, and Data Request/Deletion
            // do not have subcategories listed here as their subcategory dropdown will be hidden/disabled.
            "Content Feedback": ["Episode Suggestion ğŸ“", "Show Feedback ğŸ‘", "Content Error ğŸ›", "Request New Content âœ¨", "Guest Suggestion ğŸ¤", "Other Content Feedback ğŸ’¬"],
            "Security & Privacy": ["Data Breach Concern ğŸš¨", "Privacy Policy Question ğŸ“œ", "Report Suspicious Activity ğŸ•µï¸", "Data Request ğŸ“Š", "Account Security âœ…", "Other Security/Privacy ğŸ”"],
            "Privacy Policy Questions": ["Data Usage Inquiry ğŸ“Š", "Consent Questions âœ…", "Policy Clarification ğŸ“„", "GDPR/CCPA Rights âš–ï¸", "Other Privacy Concern ğŸ”’"],
            "Copyright & Licensing": ["Content Usage Â©", "Licensing Inquiry â„¢ï¸", "Copyright Infringement âš–ï¸", "Permission Request ğŸ™", "Other Legal ğŸ§‘â€âš–ï¸"],
            "Casting & Talent Submissions": ["Acting Submission ğŸ­", "Voice Acting ğŸ—£ï¸", "Extra/Background ğŸ‘¥", "Talent Inquiry â­", "Other Submission ğŸ“§"],
            "Script & Story Ideas": ["Series Idea âœï¸", "Episode Concept ğŸ’¡", "Character Idea ğŸ¦¸", "Plot Suggestion ğŸ“–", "Other Creative Idea ğŸ§ "],
            "Locations & Set Suggestions": ["Filming Location ğŸ“", "Set Design Idea ğŸ—ï¸", "Prop Suggestion ğŸ›‹ï¸", "Other Production Suggestion ğŸ¬"],
            "Press Kit Request": ["Media Kit Request ğŸ“°", "Brand Guidelines ğŸ“", "Logos/Assets ğŸ–¼ï¸", "Press Inquiry ğŸ¤"],
            "Press/Media Relations": ["Interview Request ğŸ™ï¸", "News Release ğŸ—ï¸", "Media Partnership ğŸ¤", "Background Information ğŸ§ ", "Other Media Inquiry ğŸ¤"],
            "Sponsorship & Advertising": ["Sponsorship Opportunity ğŸ¤", "Advertising Inquiry ğŸ“ˆ", "Partnership Proposal ğŸ“", "Brand Collaboration âœ¨"],
            "Partnership Inquiries": ["Collaboration Idea ğŸ¤", "Joint Venture ğŸ”—", "Affiliate Program ğŸ·ï¸", "Marketing Partnership ğŸ“ˆ", "Other Partnership ğŸ’¡"],
            "Fan Events & Meetups": ["Event Suggestion ğŸ‰", "Meetup Inquiry ğŸ‘‹", "Appearance Request ğŸŒŸ", "Fan Convention ğŸ¥³"],
            "Event Suggestions/Requests": ["Online Event Idea ğŸ’»", "In-person Event Request ğŸŸï¸", "Guest Speaker Suggestion ğŸ¤", "Event Feedback ğŸ‘", "Other Event Query ğŸ—“ï¸"],
            "General Inquiry": ["General Question â“", "Feedback âœ…", "Suggestion ğŸ‘", "Website Information ğŸŒ", "Other Inquiry ğŸ’¡"],
            "General Feedback": ["Website Experience ğŸ‘", "Content Quality âœ¨", "Overall Satisfaction ğŸ˜Š", "Suggestions for Improvement ğŸ’¡", "Other Feedback ğŸ’¬"],
            "Fan & Community": ["Community Guidelines ğŸ“„", "Fan Art Submission ğŸ¨", "Fan Club Info ğŸ’–", "Forum Issue ğŸ’¬", "Social Media Question ğŸ“±"],
            "Media & Press Inquiries": ["Interview Request ğŸ™ï¸", "Press Release Info ğŸ—ï¸", "Media Partnership ğŸ¤", "Review Copy Request âœï¸"],
            "Accessibility & Inclusivity": ["Accessibility Feature ğŸ§‘â€ğŸ¦½", "Inclusivity Feedback ğŸŒˆ", "Language Options ğŸŒ", "Disability Support â¤ï¸"],
            "Job Opportunities": ["Application Status ğŸ“„", "Internship Inquiry ğŸ§‘â€ğŸ“", "Career Information ğŸ“ˆ", "Specific Job Role Question â“"],
            "Volunteer Opportunities": ["Become a Volunteer ğŸ™Œ", "Volunteer Roles ğŸ“‹", "Volunteer Event Info ğŸ—“ï¸", "Application Status ğŸ“„", "Other Volunteer Query ğŸ’¬"],
            "Donation & Philanthropy": ["Donation Inquiry ğŸ’–", "Charity Partnership ğŸ¤", "Receipt Request ğŸ§¾", "Impact Information ğŸŒŸ", "Other Donation Query ğŸ’°"],
            "Report a Website Bug": ["Broken Link ğŸ”—", "Display Error ğŸ–¥ï¸", "Form Not Working ğŸš«", "Performance Issue ğŸŒ", "Security Vulnerability ğŸš¨", "Other Bug ğŸ"],
            "Product/Feature Request": ["New Feature Idea âœ¨", "Improvement Suggestion ğŸ’¡", "Platform Functionality âš™ï¸", "Tool Request ğŸ› ï¸", "Other Product Idea ğŸš€"],
            "Partnership & Sponsorship": ["Collaboration Inquiry ğŸ¤", "Event Sponsorship ğŸ‰", "Content Partnership âœï¸", "Brand Ambassador â­"]
        };

        const categorySelect = document.getElementById('category');
        const subcategorySelect = document.getElementById('subcategory');
        const subcategoryFieldDiv = document.getElementById('subcategoryField');
        const statusMessageDiv = document.getElementById('statusMessage');
        const supportForm = document.getElementById('supportForm');

        /**
         * Populates the subcategory dropdown based on the selected main category,
         * or displays a status message and hides/shows the subcategory dropdown.
         */
        function populateSubcategories() {
            const selectedCategory = categorySelect.value;
            // Clear any previous status message and hide it
            statusMessageDiv.textContent = '';
            statusMessageDiv.classList.add('hidden');

            // Clear existing options in subcategory dropdown and reset to default
            subcategorySelect.innerHTML = '<option value="" disabled selected>Please select a subcategory (optional)</option>';

            const isComingSoon = selectedCategory.includes("Coming Soon");
            const isUnderMaintenance = selectedCategory.includes("Under Maintenance");
            const isUnderReview = selectedCategory.includes("Under Review"); // New status check
            const isSpecialCategory = isComingSoon || isUnderMaintenance || isUnderReview;

            if (selectedCategory === "") {
                // If no category is selected, hide the subcategory field
                subcategoryFieldDiv.classList.add('hidden');
            } else if (isSpecialCategory) {
                // Hide subcategory dropdown for special categories
                subcategoryFieldDiv.classList.add('hidden');
                // Display specific status message based on the type
                if (isComingSoon) {
                    statusMessageDiv.textContent = "This feature is coming soon! We appreciate your patience.";
                } else if (isUnderMaintenance) {
                    statusMessageDiv.textContent = "This section is currently under maintenance. We apologize for the inconvenience.";
                } else if (isUnderReview) { // New message for "Under Review"
                    statusMessageDiv.textContent = "This section is currently under review. We appreciate your patience.";
                }
                statusMessageDiv.classList.remove('hidden');
            } else if (subcategories[selectedCategory]) {
                // Show the subcategory field for regular categories
                subcategoryFieldDiv.classList.remove('hidden');
                // Populate subcategories for regular categories
                subcategories[selectedCategory].forEach(sub => {
                    const option = document.createElement('option');
                    option.value = sub;
                    option.textContent = sub;
                    subcategorySelect.appendChild(option);
                });
            } else {
                // For categories without defined subcategories, show the field but keep default option
                // This means if a new category is added but not in `subcategories` object, the dropdown will appear empty.
                subcategoryFieldDiv.classList.remove('hidden');
            }
        }

        // Add event listener to the category dropdown to populate subcategories on change
        categorySelect.addEventListener('change', populateSubcategories);

        /**
         * Handles form submission, constructs the email subject and body, and opens mailto link.
         * @param {Event} event - The form submission event.
         */
        supportForm.addEventListener('submit', function(event) {
            // Prevent default form submission to manually construct mailto link
            event.preventDefault();

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const category = document.getElementById('category').value;
            const message = document.getElementById('message').value;

            // Get subcategory value only if the field is visible (not hidden)
            let subcategory = '';
            if (!subcategoryFieldDiv.classList.contains('hidden')) {
                subcategory = subcategorySelect.value;
            }

            // Construct the email subject
            let subject = `Support Request - ${category}`;
            // Only add subcategory to subject if it's not a special category and a subcategory is selected
            const isComingSoon = category.includes("Coming Soon");
            const isUnderMaintenance = category.includes("Under Maintenance");
            const isUnderReview = category.includes("Under Review");
            const isSpecialCategory = isComingSoon || isUnderMaintenance || isUnderReview;

            if (!isSpecialCategory && subcategory && subcategory !== 'Please select a subcategory (optional)') {
                subject += ` - ${subcategory}`;
            }
            subject = encodeURIComponent(subject);

            // Construct the email body
            let bodyContent = `Hello TFAPG Team,

I am writing to submit a support request. Here are my details and inquiry:

Your Name: ${name}
Your Email Address: ${email}

Category: ${category}
`;

            // Include status message if present, otherwise subcategory
            if (statusMessageDiv.textContent && !statusMessageDiv.classList.contains('hidden')) {
                bodyContent += `Status: ${statusMessageDiv.textContent}
`;
            } else if (!isSpecialCategory && subcategory && subcategory !== 'Please select a subcategory (optional)') {
                 bodyContent += `Subcategory: ${subcategory}
`;
            } else {
                 bodyContent += `Subcategory: N/A (No subcategory selected or applicable)
`;
            }

            bodyContent += `
---

My Message:
${message}

---

Thank immense you for your time and assistance.

Sincerely,
${name}`;

            const body = encodeURIComponent(bodyContent);

            // Create the mailto link
            const mailtoLink = `mailto:tfapghelp@gmail.com?subject=${subject}&body=${body}`;

            // Open the mailto link
            window.location.href = mailtoLink;
        });

        // Initialize on page load to set initial state correctly
        populateSubcategories();
    </script>
</body>
</html>
